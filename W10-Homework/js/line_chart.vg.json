{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 800,
  "height": 600,
  "title": "Consumer Price Index of Malaysian States (2010-2024)",
  "data": {
    "url": "https://raw.githubusercontent.com/ligsnf/FIT3179/main/W10-Homework/data/cpi_2d_state.csv"
  },
  "params": [
    {
      "name": "Division_Selection",
      "bind": {
        "input": "select",
        "options": [
          "overall",
          "01",
          "02",
          "03",
          "04",
          "05",
          "06",
          "07",
          "08",
          "09",
          "10",
          "11",
          "12",
          "13"
        ],
        "labels": [
          "Overall",
          "Food & Beverages",
          "Alcoholic Beverages & Tobacco",
          "Clothing & Footwear",
          "Housing, Utilities, Gas & Other Fuels",
          "Household Furnishings, Equipment & Maintenance",
          "Health",
          "Transport",
          "Information & Communication",
          "Recreation, Sport & Culture",
          "Education",
          "Restaurant & Accommodation Services",
          "Insurance & Financial Services",
          "Personal Care, Social Protection & Miscellaneous Goods and Services"
        ],
        "name": "Division Selection: "
      },
      "value": "overall"
    }
  ],
  "transform": [
    {
      "filter": "datum.division == Division_Selection"
    }
  ],
  "encoding": {
    "x": {
      "field": "date",
      "type": "temporal",
      "title": "Date"
    },
    "y": {
      "field": "index",
      "type": "quantitative",
      "title": "CPI (Consumer Price Index)",
      "scale": {"zero": false}
    },
    "color": {
      "condition": {
        "param": "hover",
        "field": "state",
        "type": "nominal",
        "legend": null
      },
      "value": "grey"
    },
    "opacity": {
      "condition": {
        "param": "hover",
        "value": 1
      },
      "value": 0.2
    }
  },
  "layer": [
    {
      "mark": "line",
      "params": [{
        "name": "hover",
        "value": [{"state": "W.P. Kuala Lumpur"}],
        "select": {
          "type": "point",
          "fields": ["state"],
          "on": "pointerover"
        }
      }],
      "encoding": {
        "color": {
          "field": "state",
          "title": "State",
          "type": "nominal"
        },
        "tooltip": [
          {
            "title": "State",
            "field": "state",
            "type": "nominal"
          },
          {
            "title": "CPI",
            "field": "index",
            "type": "quantitative"
          },
          {
            "title": "Category",
            "field": "division",
            "type": "nominal"
          }
        ]
      }
    }
  ]
}